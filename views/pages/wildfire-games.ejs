<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('../partials/head'); %>
  <style>
    .jumbotron {
      border-radius: 8px;
      padding: 5em 10em;
    }
    h1 {
      font-size: 2.5em;
      font-weight: bold;
      margin-bottom: 20px;
    }
    h2 {
      font-size: 1.8em;
      font-weight: bold;
      margin-top: 20px;
      margin-bottom: 10px;
    }
    h3 {
      font-size: 1.5em;
      font-weight: bold;
      margin-top: 20px;
      margin-bottom: 10px;
    }
    ul {
      list-style-type: disc;
      padding-left: 20px;
      margin-bottom: 20px;
    }
    li {
      margin-bottom: 10px;
    }
    p {
      margin-bottom: 15px;
    }
  </style>
</head>
<body>

<header>
  <%- include('../partials/header'); %>
</header>

<script>
    document.getElementById('wildfires-nav-item').classList.add('is-active');
</script>

<main>
  <div class="jumbotron">
    <h1>Test your wildfire knowledge</h1>
    <div class="is-flex is-flex-row is-align-content-center">
      <p id="question"></p>
      <div class="select px-2">
        <select id="select-dropdown">
          <option value="">Select an answer</option>
        </select>
      </div>  
    </div>
  </div>
</main>

<script>
    const questions = [
        {
            "question": "What should be in your disaster kit?",
            "options": ["Select Answer", "Water", "Food", "Flashlight", "All of the above"],
            "correctAnswer": 5
        },
        {
            "question": "Where should you go if you get trapped inside your house during a wildfire?",
            "options": ["Select Answer", "The roof", "The middle of the house", "Against the Walls", "None of the above"],
            "correctAnswer": 3
        },
        {
            "question": "Does a wildfire affect food inside a house?",
            "options": ["Select Answer", "Yes", "No", "Only icecream"],
            "correctAnswer": 2
        }
    ];

    let currentQuestionIndex = 0;

    function loadQuestion() {
        const currentQuestion = questions[currentQuestionIndex];
        document.getElementById('question').innerText = currentQuestion.question;
        
        const dropdown = document.getElementById('select-dropdown');
        dropdown.innerHTML = ''; // Clear previous options
        currentQuestion.options.forEach((option, index) => {
            const opt = document.createElement('option');
            opt.value = index + 1; // Options are 1-indexed
            opt.innerText = option;
            dropdown.appendChild(opt);
        });
    }

    document.getElementById('select-dropdown').addEventListener('change', function() {
        const selectedValue = parseInt(this.value);
        const currentQuestion = questions[currentQuestionIndex];

        if (selectedValue === currentQuestion.correctAnswer) {
            alert('Correct!');
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                alert('Quiz completed!');
            }
        } else {
            alert('Incorrect! Try again.');
        }
    });

    // Load the first question on page load
    loadQuestion();
</script>

<footer>
  
</footer>

</body>
</html>